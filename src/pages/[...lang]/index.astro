---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Hero from '../../components/Hero.astro';
import Features from '../../components/Features.astro';
import HowToUse from '../../components/HowToUse.astro';
import FinalCta from '../../components/FinalCta.astro';
import Footer from '../../components/Footer.astro';

import { getTranslation } from '../../i18n';

// ✅ แก้ตรงนี้: ใช้ { lang: 'en' } แทน array
export async function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'th' } },
	{ params: { lang: 'zh' } },
  ];
}

const lang = Astro.params.lang ?? 'en'; // ✅ ไม่มี .[0] แล้ว เพราะ [lang] ไม่ใช่ [...lang]
const t = getTranslation(lang);
---

<Layout title={t.meta.title} lang={lang}>
	<Header t={t} lang={lang} />
  <Hero t={t} />
  <Features t={t} />
  <HowToUse t={t} />
  <FinalCta t={t} />
  <Footer t={t} />
</Layout>
---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Hero from '../../components/Hero.astro';
import Features from '../../components/Features.astro';
import OrderStep from '../../components/OrderStep.astro';
import About from '../../components/About.astro';
import Contact from '../../components/Contact.astro';
import Footer from '../../components/Footer.astro';

import { getTranslation } from '../../i18n';

// ✅ แก้ตรงนี้: ใช้ { lang: 'en' } แทน array
export async function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'th' } },
	  { params: { lang: 'zh' } },
  ];
}

const lang = Astro.params.lang ?? 'en'; // ✅ ไม่มี .[0] แล้ว เพราะ [lang] ไม่ใช่ [...lang]
const t = getTranslation(lang);
export const prerender = true;
---

<Layout title={t.meta.title} lang={lang}>
  <Hero t={t} lang={lang} />
  <Features t={t}  lang={lang}  />
  <OrderStep t={t}  lang={lang} />
  <About t={t}  lang={lang} />
  <Contact t={t}  lang={lang} />
  <Footer t={t}  lang={lang} />
</Layout>